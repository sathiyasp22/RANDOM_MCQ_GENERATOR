{"ast":null,"code":"import _regeneratorRuntime from\"D:/MY PRO SRC/RANDOM_MCQ_GENERATOR/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/MY PRO SRC/RANDOM_MCQ_GENERATOR/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/MY PRO SRC/RANDOM_MCQ_GENERATOR/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{Flex,Box,FormControl,FormLabel,Input,Stack,Button,Heading,Text}from\"@chakra-ui/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(username===\"\"||password===\" \")){_context.next=5;break;}alert(\"Please fill the field first\");_context.next=20;break;case 5:_context.next=7;return fetch(\"http://localhost:8000/api/login/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password})});case 7:response=_context.sent;if(!response.ok){_context.next=18;break;}_context.next=11;return response.json();case 11:data=_context.sent;localStorage.setItem(\"token\",data.token);localStorage.setItem(\"username\",username);navigate(\"/\");window.location.reload();_context.next=20;break;case 18:alert(\"Invalid Username Or Password\");console.log(\"Login failed\");case 20:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Flex,{align:\"center\",justify:\"center\",children:/*#__PURE__*/_jsxs(Stack,{spacing:8,mx:\"auto\",maxW:\"lg\",py:12,px:6,children:[/*#__PURE__*/_jsx(Stack,{align:\"center\",children:/*#__PURE__*/_jsx(Heading,{fontSize:\"4xl\",children:\"Sign in to your account\"})}),/*#__PURE__*/_jsx(Box,{rounded:\"lg\",boxShadow:\"lg\",p:8,children:/*#__PURE__*/_jsxs(Stack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"UserName\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Stack,{spacing:10,children:/*#__PURE__*/_jsx(Button,{onClick:handleLogin,bg:\"blue.400\",color:\"white\",_hover:{bg:\"blue.500\"},children:\"Sign in\"})}),/*#__PURE__*/_jsxs(Text,{children:[\"Don't have an account \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})]})]})})]})})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","Flex","Box","FormControl","FormLabel","Input","Stack","Button","Heading","Text","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","navigate","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","data","wrap","_callee$","_context","prev","next","preventDefault","alert","fetch","method","headers","body","JSON","stringify","sent","ok","json","localStorage","setItem","token","window","location","reload","console","log","stop","_x","apply","arguments","children","align","justify","spacing","mx","maxW","py","px","fontSize","rounded","boxShadow","p","type","placeholder","value","onChange","target","id","onClick","bg","color","_hover","to"],"sources":["D:/MY PRO SRC/RANDOM_MCQ_GENERATOR/client/src/Components/Forms/login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport {\r\n    Flex,\r\n    Box,\r\n    FormControl,\r\n    FormLabel,\r\n    Input,\r\n    \r\n    Stack,\r\n\r\n    Button,\r\n    Heading,\r\n    Text,\r\n \r\n} from \"@chakra-ui/react\";\r\nfunction Login() {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n   \r\n    const navigate = useNavigate();\r\n\r\n    \r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        if (username === \"\" || password === \" \") {\r\n            alert(\"Please fill the field first\");\r\n        } else {\r\n            const response = await fetch(\"http://localhost:8000/api/login/\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    username: username,\r\n                    password: password,\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                \r\n                localStorage.setItem(\"token\", data.token);\r\n                localStorage.setItem(\"username\", username)\r\n                navigate(\"/\");\r\n                window.location.reload()\r\n            } else {\r\n                alert(\"Invalid Username Or Password\");\r\n\r\n                console.log(\"Login failed\");\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <Flex align={\"center\"} justify={\"center\"}>\r\n                <Stack spacing={8} mx={\"auto\"} maxW={\"lg\"} py={12} px={6}>\r\n                    <Stack align={\"center\"}>\r\n                        <Heading fontSize={\"4xl\"}>Sign in to your account</Heading>\r\n                    </Stack>\r\n                    <Box rounded={\"lg\"} boxShadow={\"lg\"} p={8}>\r\n                        <Stack spacing={4}>\r\n                            <FormControl>\r\n                                <FormLabel>UserName</FormLabel>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Username\"\r\n                                    value={username}\r\n                                    onChange={(e) => setUsername(e.target.value)}\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl id=\"password\">\r\n                                <FormLabel>Password</FormLabel>\r\n                                <Input\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                />\r\n                            </FormControl>\r\n                            <Stack spacing={10}>\r\n                                <Button\r\n                                    onClick={handleLogin}\r\n                                    bg={\"blue.400\"}\r\n                                    color={\"white\"}\r\n                                    _hover={{\r\n                                        bg: \"blue.500\",\r\n                                    }}\r\n                                >\r\n                                    Sign in\r\n                                </Button>\r\n                            </Stack>\r\n                            <Text>\r\n                                Don't have an account <Link to={\"/signup\"}>Sign up</Link>\r\n                            </Text>\r\n                        </Stack>\r\n                    </Box>\r\n                </Stack>\r\n            </Flex>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}